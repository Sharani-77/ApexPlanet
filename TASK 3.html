<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TASK 3</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f9;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .container {
      max-width: 600px;
      width: 100%;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      margin-bottom: 30px;
    }
    h2 { text-align: center; }
    .question {
      font-size: 18px;
      margin-bottom: 15px;
    }
    .btn {
      display: block;
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background: #3498db;
      color: #fff;
      font-size: 16px;
    }
    .btn:hover { background: #2980b9; }
    #next-btn {
      display: none;
      margin-top: 15px;
    }
    #joke-box, #weather-result {
      text-align: center;
      font-size: 18px;
      margin-top: 15px;
      color: #333;
    }
    input {
      padding: 10px;
      width: calc(100% - 20px);
      margin-top: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    /* Carousel */
    .carousel {
      width: 500px;
      position: relative;
      overflow: hidden;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      margin: auto;
    }
    .carousel-images {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }
    .carousel-images img {
      width: 500px;
      height: 300px;
      object-fit: cover;
    }
    .carousel .btn-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.5);
      border: none;
      color: white;
      padding: 10px;
      cursor: pointer;
    }
    .prev { left: 10px; }
    .next { right: 10px; }
  </style>
</head>
<body>

  <!-- QUIZ SECTION -->
  <div class="container">
    <h2>üìù Interactive Quiz</h2>
    <p class="question" id="question">Question Text</p>
    <div id="answer-buttons"></div>
    <button id="next-btn" class="btn">Next</button>
  </div>

  <!-- JOKE API SECTION -->
  <div class="container">
    <h2>üòÇ Random Joke Generator</h2>
    <button id="joke-btn" class="btn">Get a Joke</button>
    <p id="joke-box">Click the button to see a joke!</p>
  </div>

  <!-- WEATHER API SECTION -->
  <div class="container">
    <h2>üåç Weather Checker</h2>
    <input type="text" id="city-input" placeholder="Enter city name">
    <button id="weather-btn" class="btn">Get Weather</button>
    <p id="weather-result">Enter a city to see the weather.</p>
  </div>

  <!-- IMAGE CAROUSEL -->
  <div class="container">
    <h2>üñºÔ∏è Image Carousel</h2>
    <div class="carousel">
      <div class="carousel-images" id="carousel">
        <img src="https://picsum.photos/id/1015/500/300" alt="1">
        <img src="https://picsum.photos/id/1025/500/300" alt="2">
        <img src="https://picsum.photos/id/1035/500/300" alt="3">
        <img src="https://picsum.photos/id/1045/500/300" alt="4">
      </div>
      <button class="btn-nav prev" onclick="prevSlide()">‚ùÆ</button>
      <button class="btn-nav next" onclick="nextSlide()">‚ùØ</button>
    </div>
  </div>

  <script>
    // ========== QUIZ ==========
    const questions = [
      {
        question: "Which language runs in a web browser?",
        answers: [
          { text: "Java", correct: false },
          { text: "C", correct: false },
          { text: "Python", correct: false },
          { text: "JavaScript", correct: true }
        ]
      },
      {
        question: "What does CSS stand for?",
        answers: [
          { text: "Central Style Sheets", correct: false },
          { text: "Cascading Style Sheets", correct: true },
          { text: "Computer Style Sheets", correct: false },
          { text: "Creative Style System", correct: false }
        ]
      },
      {
        question: "What year was JavaScript created?",
        answers: [
          { text: "1995", correct: true },
          { text: "2000", correct: false },
          { text: "1990", correct: false },
          { text: "2005", correct: false }
        ]
      }
    ];

    const questionElement = document.getElementById("question");
    const answerButtons = document.getElementById("answer-buttons");
    const nextButton = document.getElementById("next-btn");

    let currentQuestionIndex = 0;
    let score = 0;

    function startQuiz() {
      currentQuestionIndex = 0;
      score = 0;
      nextButton.innerHTML = "Next";
      showQuestion();
    }

    function showQuestion() {
      resetState();
      let currentQuestion = questions[currentQuestionIndex];
      questionElement.innerHTML = currentQuestion.question;

      currentQuestion.answers.forEach(answer => {
        const button = document.createElement("button");
        button.innerHTML = answer.text;
        button.classList.add("btn");
        button.addEventListener("click", () => selectAnswer(answer));
        answerButtons.appendChild(button);
      });
    }

    function resetState() {
      nextButton.style.display = "none";
      while (answerButtons.firstChild) {
        answerButtons.removeChild(answerButtons.firstChild);
      }
    }

    function selectAnswer(answer) {
      if (answer.correct) score++;
      nextButton.style.display = "block";
    }

    function showScore() {
      resetState();
      questionElement.innerHTML = `üéâ You scored ${score} out of ${questions.length}!`;
      nextButton.innerHTML = "Play Again";
      nextButton.style.display = "block";
    }

    function handleNextButton() {
      currentQuestionIndex++;
      if (currentQuestionIndex < questions.length) {
        showQuestion();
      } else {
        showScore();
      }
    }

    nextButton.addEventListener("click", () => {
      if (currentQuestionIndex < questions.length) {
        handleNextButton();
      } else {
        startQuiz();
      }
    });

    startQuiz();

    // ========== JOKE API ==========
    const jokeBtn = document.getElementById("joke-btn");
    const jokeBox = document.getElementById("joke-box");

    jokeBtn.addEventListener("click", async () => {
      jokeBox.innerHTML = "Loading...";
      try {
        const response = await fetch("https://official-joke-api.appspot.com/random_joke");
        const data = await response.json();
        jokeBox.innerHTML = `${data.setup} üòÇ <br><b>${data.punchline}</b>`;
      } catch (error) {
        jokeBox.innerHTML = "Oops! Couldn't fetch a joke üò¢";
      }
    });

    // ========== WEATHER API ==========
  const weatherBtn = document.getElementById("weather-btn");
  const cityInput = document.getElementById("city-input");
  const weatherResult = document.getElementById("weather-result");

  weatherBtn.addEventListener("click", async () => {
    const city = cityInput.value.trim();
    if (!city) {
      weatherResult.innerHTML = "‚ö†Ô∏è Please enter a city name.";
      return;
    }
    weatherResult.innerHTML = "Loading...";
    try {
      // Free API without key (returns JSON)
      const url = `https://wttr.in/${city}?format=j1`;
      const response = await fetch(url);
      if (!response.ok) throw new Error("City not found");
      const data = await response.json();

      const temp = data.current_condition[0].temp_C;
      const condition = data.current_condition[0].weatherDesc[0].value;
      const feelsLike = data.current_condition[0].FeelsLikeC;

      weatherResult.innerHTML = `
        üåÜ <b>${city}</b> <br>
        üå°Ô∏è Temperature: ${temp}¬∞C <br>
        ü§î Feels like: ${feelsLike}¬∞C <br>
        ‚òÅÔ∏è Condition: ${condition}
      `;
    } catch (error) {
      weatherResult.innerHTML = "‚ùå Could not fetch weather data.";
    }
  });

    // ========== IMAGE CAROUSEL ==========
   const carousel = document.getElementById("carousel");
    const totalSlides = carousel.children.length;
    let index = 0;

    function showSlide() {
      carousel.style.transform = `translateX(${-index * 500}px)`;
    }

    function nextSlide() {
      index = (index + 1) % totalSlides;
      showSlide();
    }

    function prevSlide() {
      index = (index - 1 + totalSlides) % totalSlides;
      showSlide();
    }
</script>
</body>
</html>
